const counters=document.querySelectorAll(".about .boxes-holder .box span"),speed=300,agentsHolder=(window.addEventListener("scroll",()=>{window.scrollY>=document.querySelector(".about").offsetTop-250&&counters.forEach(a=>{const d=()=>{var e=parseInt(+a.dataset.count);const t=parseInt(+a.innerText);var n=Math.trunc(e/speed);t<e?(a.innerText=t+n,setTimeout(d,10)):t.innerText=e};d()})}),document.querySelector(".agents .container .agents-holder")),boxesHolder=(fetch("json/agents.json").then(e=>e.json()).then(e=>{e.map(e=>{let t=document.createElement("div"),n=(t.className="agent wow animate__animated animate__jackInTheBox",agentsHolder.appendChild(t),document.createElement("div")),a=(n.className="image",t.appendChild(n),document.createElement("img")),d=(a.src=e.photo,a.alt=e.name,n.appendChild(a),document.createElement("text")),o=(d.className="text",t.appendChild(d),document.createElement("h4")),r=(o.innerHTML=e.job,d.appendChild(o),document.createElement("h6")),s=(r.innerHTML=`${"male"===e.gender?"Mr":"Mrs"}. `+e.name,d.appendChild(r),document.createElement("div"));function c(e,t,n){let a=document.createElement("a"),d=(a.href=e,a.title=t,a.target="_blank",s.appendChild(a),document.createElement("i"));d.className=n,a.appendChild(d)}s.className="social-media",d.appendChild(s),c("https://twitter.com/"+e.twitUser,e.name+"'s Twitter","fa-brands fa-twitter"),c("https://github.com/"+e.githubUser,e.name+"'s Github","fa-brands fa-github"),c("https://www.linkedin.com/in/"+e.linkedinUser,e.name+"'s Linkedin","fa-brands fa-linkedin-in")})}),document.querySelector(".apartments .container .boxes-holder"));function formatCurrency(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"}).slice(0,-3)}fetch("json/apartments.json").then(e=>e.json()).then(m=>{m.map(e=>{let t=document.createElement("div"),n=(t.className="box wow animate__animated animate__fadeInDown",boxesHolder.appendChild(t),document.createElement("div")),a=(n.className="image",t.appendChild(n),document.createElement("img")),d=(a.src=e.img,a.alt="Apartment "+(m.indexOf(e)+1),n.appendChild(a),document.createElement("a")),o=(d.href="#",d.innerHTML="buy now",n.appendChild(d),document.createElement("div")),r=(o.className="text",t.appendChild(o),document.createElement("h4")),s=(r.innerHTML=`${e.address.slice(0,e.address.lastIndexOf(","))}, <br />${e.address.slice(e.address.lastIndexOf(", ")+1)}`,o.appendChild(r),document.createElement("div")),c=(s.className="details",o.appendChild(s),document.createElement("p")),i=(c.className="price",c.innerHTML=formatCurrency(Number(e.price)),s.appendChild(c),document.createElement("div"));function l(e,t,n,a){let d=document.createElement("p"),o=(d.className=e,i.appendChild(d),document.createElement("i")),r=(o.className=t,d.appendChild(o),document.createElement("span"));r.innerHTML=n+" "+a,d.appendChild(r)}s.appendChild(i),l("beds","fa-solid fa-bed",e.bed,"BR"),l("showers","fa-solid fa-shower",e.shower,"SH"),l("kitchens","fa-solid fa-kitchen-set",e.kitchen,"KT")})}),burgerIcon.addEventListener("click",()=>{menu.classList.toggle("show")}),document.addEventListener("keydown",e=>{"Escape"===e.key&&menu.classList.contains("show")&&menu.classList.remove("show")});const footerForm=document.querySelector("footer form");footerForm.addEventListener("submit",e=>e.preventDefault()),footerYear.innerHTML=(new Date).getFullYear(),window.addEventListener("scroll",()=>{window.scrollY?header.classList.add("sticky"):header.classList.remove("sticky")}),window.addEventListener("scroll",()=>{450<window.scrollY?toTopBtn.style.right="10px":toTopBtn.style.right="-1000px";var e=Math.round(window.scrollY/(document.body.scrollHeight-750)*100);toTopBtn.style.borderImageSource=`conic-gradient(#ffcc03 ${e}%, transparent ${e}%)`}),toTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})}),(new WOW).init();
